@layer components {
  @scope (.unified-nav) {
    :scope {
      --nav-height: 44px;
      --nav-height-mobile: 40px;

      --nav-accent: oklch(0.85 0.18 102);
      --nav-accent-dim: oklch(0.75 0.14 102);
      --nav-accent-glow: oklch(0.85 0.18 102 / 0.4);
      --nav-text: oklch(0.78 0.08 102);
      --nav-text-active: oklch(0.12 0.02 102);
      --nav-clip: var(--clip-cyber-sm);
      --nav-clip-xs: var(--clip-cyber-xs);
      --nav-transition: var(--duration-normal) var(--ease-out-expo);
      position: fixed;
      inset-block-start: 0;
      inset-inline: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: space-between;
      block-size: var(--nav-height);
      background: linear-gradient(180deg,
          color-mix(in oklch, oklch(0.08 0.02 102) 98%, transparent) 0%,
          color-mix(in oklch, oklch(0.06 0.015 102) 95%, transparent) 100%);
      backdrop-filter: blur(var(--glass-blur)) saturate(1.4);
      border-block-end: 1px solid color-mix(in oklch, var(--nav-accent) 35%, var(--border));
      box-shadow:
        var(--shadow-lg),
        inset 0 -1px 0 var(--white-5);
    }


    .nav-brand {
      display: flex;
      align-items: center;
      gap: var(--space-xs);
      padding: 0;
      background: none;
      border: none;
      font-family: var(--font-display);
      font-size: var(--text-base);
      font-weight: 900;
      letter-spacing: var(--tracking-wide);
      text-transform: uppercase;
      text-decoration: none;
      color: oklch(0.9 0.16 102);
      text-shadow: 0 0 12px oklch(0.85 0.18 102 / 0.5);
      cursor: pointer;
      transition: all var(--nav-transition);
      flex-shrink: 0;

      &:hover {
        color: oklch(0.95 0.18 102);
        text-shadow: 0 0 16px oklch(0.85 0.18 102 / 0.7);

        .brand-icon {
          filter: drop-shadow(0 0 10px oklch(0.85 0.18 102 / 0.8));
          transform: scale(1.05);
        }
      }
    }

    .brand-icon {
      inline-size: 20px;
      block-size: 20px;
      fill: oklch(0.92 0.18 102);
      filter: drop-shadow(0 0 6px oklch(0.85 0.18 102 / 0.6));
      transition: all var(--nav-transition);
    }

    .brand-text {
      @media (width <=480px) {
        font-size: var(--text-sm);
      }
    }


    .links {
      display: flex;
      align-items: center;
      gap: 2px;
      padding: 3px;
      background: var(--black-20);
      clip-path: var(--nav-clip);
    }

    .links--desktop {
      @media (width <=768px) {
        display: none;
      }
    }

    .nav-link {
      display: flex;
      align-items: center;
      justify-content: center;
      padding-block: var(--space-xs);
      padding-inline: var(--space-sm);
      font-family: var(--font-display);
      font-size: var(--text-xs);
      font-weight: 600;
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: var(--tracking-normal);
      color: var(--nav-text);
      background: transparent;
      border: 1px solid transparent;
      clip-path: var(--nav-clip-xs);
      transition: var(--nav-transition);
      transition-property: color, background, border-color, box-shadow, text-shadow;
      white-space: nowrap;
      position: relative;

      &:hover {
        color: oklch(0.92 0.14 102);
        background: oklch(0.85 0.18 102 / 0.15);
        border-color: oklch(0.85 0.18 102 / 0.4);
      }

      &[aria-current="true"],
      &.active {
        background: linear-gradient(135deg, oklch(0.92 0.18 102) 0%, oklch(0.85 0.16 102) 100%);
        border-color: oklch(0.9 0.18 102);
        color: var(--nav-text-active);
        box-shadow:
          0 0 16px var(--nav-accent-glow),
          inset 0 1px 0 var(--white-15);
        text-shadow: none;
        font-weight: 700;

        &::after {
          content: "";
          position: absolute;
          inset-block-end: 0;
          inset-inline: 20%;
          block-size: 1px;
          background: linear-gradient(90deg, transparent, oklch(0.6 0.1 102), transparent);
        }
      }
    }


    .btn-share {
      display: inline-flex;
      align-items: center;
      gap: var(--space-xs);
      padding-block: 5px;
      padding-inline: var(--space-sm);
      font-family: var(--font-display);
      font-size: var(--text-xs);
      font-weight: 600;
      letter-spacing: var(--tracking-wide);
      text-transform: uppercase;
      color: var(--nav-text);
      background: oklch(0.85 0.18 102 / 0.12);
      border: 1px solid oklch(0.85 0.18 102 / 0.4);
      clip-path: var(--nav-clip);
      cursor: pointer;
      transition: all var(--transition-smooth);

      .icon {
        inline-size: var(--icon-xs);
        block-size: var(--icon-xs);
        flex-shrink: 0;
      }

      &:hover {
        color: oklch(0.95 0.14 102);
        background: oklch(0.85 0.18 102 / 0.25);
        border-color: oklch(0.9 0.18 102);
        box-shadow: 0 0 12px var(--nav-accent-glow);
        transform: scale(1.02);
      }
    }

    .btn-share--desktop {
      @media (width <=768px) {
        display: none;
      }
    }


    .nav-toggle {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 5px;
      inline-size: 40px;
      block-size: 36px;
      padding: var(--space-xs);
      background: oklch(0.85 0.18 102 / 0.1);
      border: 1px solid oklch(0.85 0.18 102 / 0.4);
      clip-path: var(--nav-clip-xs);
      cursor: pointer;
      transition: all var(--nav-transition);

      &:hover {
        background: oklch(0.85 0.18 102 / 0.2);
        border-color: oklch(0.85 0.18 102 / 0.6);
      }

      @media (width <=768px) {
        display: flex;
      }
    }

    .hamburger-line {
      display: block;
      inline-size: 18px;
      block-size: 2px;
      background: oklch(0.88 0.16 102);
      border-radius: 1px;
      transition: transform 0.25s var(--ease-out-expo), opacity 0.25s;
      transform-origin: center;
    }


    .nav-toggle[aria-expanded="true"] {
      background: oklch(0.85 0.18 102 / 0.2);

      .hamburger-line:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }

      .hamburger-line:nth-child(2) {
        opacity: 0;
        transform: scaleX(0);
      }

      .hamburger-line:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
      }
    }


    .sr-only {
      position: absolute;
      inline-size: 1px;
      block-size: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }


    .mobile-menu {
      position: absolute;
      inset-block-start: 100%;
      inset-inline: 0;
      padding: var(--space-md);
      background: linear-gradient(180deg,
          oklch(0.1 0.02 102 / 0.98) 0%,
          oklch(0.08 0.015 102 / 0.98) 100%);
      backdrop-filter: blur(var(--glass-blur));
      border-block-end: 2px solid oklch(0.85 0.18 102 / 0.5);
      box-shadow:
        0 8px 32px oklch(0 0 0 / 0.5),
        inset 0 1px 0 oklch(0.85 0.18 102 / 0.1);
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .mobile-link {
      display: flex;
      align-items: center;
      padding: var(--space-md);
      font-family: var(--font-display);
      font-size: var(--text-base);
      font-weight: 600;
      text-decoration: none;
      color: oklch(0.78 0.08 102);
      background: transparent;
      border-radius: var(--radius-xs);
      transition: all var(--nav-transition);

      &:hover {
        background: oklch(0.85 0.18 102 / 0.15);
        color: oklch(0.92 0.14 102);
      }

      &.active {
        background: linear-gradient(135deg, oklch(0.92 0.18 102) 0%, oklch(0.85 0.16 102) 100%);
        color: oklch(0.12 0.02 102);
        font-weight: 700;
        box-shadow: 0 0 12px var(--nav-accent-glow);
      }
    }

    .mobile-divider {
      margin: var(--space-sm) 0;
      border: none;
      border-block-start: 1px solid oklch(0.85 0.18 102 / 0.2);
    }

    .mobile-share {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-sm);
      inline-size: 100%;
      padding: var(--space-md);
      font-family: var(--font-display);
      font-size: var(--text-sm);
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: var(--tracking-wide);
      color: oklch(0.88 0.14 102);
      background: oklch(0.85 0.18 102 / 0.1);
      border: 1px solid oklch(0.85 0.18 102 / 0.3);
      border-radius: var(--radius-xs);
      cursor: pointer;
      transition: all var(--nav-transition);

      .icon {
        inline-size: 16px;
        block-size: 16px;
      }

      &:hover {
        background: oklch(0.85 0.18 102 / 0.2);
        border-color: oklch(0.85 0.18 102 / 0.5);
        color: oklch(0.95 0.14 102);
        box-shadow: 0 0 8px var(--nav-accent-glow);
      }
    }

    .mobile-github {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      padding: var(--space-sm) var(--space-md);
      font-family: var(--font-mono);
      font-size: var(--text-xs);
      color: oklch(0.6 0.06 102);
      text-decoration: none;
      transition: all var(--nav-transition);

      .icon {
        inline-size: 14px;
        block-size: 14px;
        fill: currentColor;
      }

      &:hover {
        color: oklch(0.75 0.08 102);
      }
    }
  }


  body:has(.unified-nav) {
    padding-block-start: 44px;
  }


  @media (width <=768px) {
    .unified-nav {
      padding-inline: var(--space-md);
    }
  }

  @media (width <=480px) {
    .unified-nav {
      block-size: 40px;
    }

    body:has(.unified-nav) {
      padding-block-start: 40px;
    }
  }
}